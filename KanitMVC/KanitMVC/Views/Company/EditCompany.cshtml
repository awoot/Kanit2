
@{
    ViewBag.Title = "EditCompany";
}

@*<h2>EditCompany</h2>*@
<script src="@Url.Content("~/Scripts/CUDS/Company/EditCompany.js")" type="text/javascript"></script>
@* ---------------------------- Dynamictable -------------------------- *@
@Scripts.Render("~/Scripts/js/EditableGrid/jquery.dynotable.js")
@Scripts.Render("~/Scripts/js/EditableGrid/highlight.min.js")
<div class="modal fade" id="ShowDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
<div class="row">
    <div class="col-lg-12">
        <h3 class="page-header">
            <i class="fa fa-file-text-o"></i> Company / Edit
        </h3>
        <div class="col-xs-9 col-sm-10 col-lg-11">
            <div class="row m-bot15">
                @*<a href="#" id="btnSave" class="btn btn-primary">Save</a>*@
                @*<a href="IndexUser.aspx" id="btnDiscard" class="btn btn-danger">Discard</a>*@
                <button type="button" id="btnSave" class="btn btn-primary" onclick="Isvalidate('Update', 'Company', @Request.Params["id"])">Save</button>
                @*<button type="button" id="btnSave" class="btn btn-primary" onclick="CreateData()">Save</button>*@
                <button type="button" id="btnDiscard" class="btn btn-danger" onclick="Redirect()">Discard</button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">
                Company
            </header>
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Company Code</label>
                            <div class="col-sm-4">
                                <input id="txtCompanyCode" class="form-control m-bot15" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix visible-xs-block"></div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Company Name (TH)</label>
                            <div class="col-sm-8">
                                <input id="txtCompanyNameTH" class="form-control m-bot15" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Company Name (EN)</label>
                            <div class="col-sm-8">
                                <input id="txtCompanyNameEN" class="form-control m-bot15" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix visible-xs-block"></div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Company Type</label>
                            <div class="col-sm-4">
                                <select id="cmbCompanyType" class="form-control m-bot15"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Customer Segment</label>
                            <div class="col-sm-4">
                                <select id="cmbCustomerSegment" class="form-control m-bot15"></select>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix visible-xs-block"></div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Validity (Day)</label>
                            <div class="col-sm-3">
                                <input id="txtValidity" class="form-control m-bot15 text-right" type="text" value="15">
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Payment Type</label>
                            <div class="col-sm-5">
                                <select id="cmbPaymentType" class="form-control m-bot15"></select>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix visible-xs-block"></div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Credit Term (Day)</label>
                            <div class="col-sm-3">
                                <select id="cmbCreditTerm" class="form-control m-bot15 text-right"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Credit Limit</label>
                            <div class="col-sm-4">
                                <input id="txtCreditLimit" class="form-control m-bot15 text-right" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix visible-xs-block"></div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Key Account (SR)</label>
                            <div class="col-sm-8">
                                <input id="txtKeyAccountSR" class="form-control m-bot15" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">Parent Company</label>
                            <div class="col-sm-8">
                                <input id="txtParentCompany" class="form-control m-bot15" type="text">
                            </div>
                        </div>
                    </div>
                </div>
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#home">Address</a></li>
                    <li><a href="#menu1">Contact Person</a></li>
                </ul>
                <div class="tab-content">
                    <div id="home" class="tab-pane fade in active">
                        <div class="row">
                            <div class="col-lg-12">
                                <section class="panel">
                                    <!--<div class="col-lg-6"></div>-->
                                    <header class="panel-heading">
                                        <div class="col-lg-8">Address</div>
                                        <div class="col-lg-1">
                                            <!--<div class="row m-bot15">-->
                                            <a href="#myModal" data-toggle="modal" class="btn btn-default btn-sm plusicon" onclick="GetDataAddress(0)"><img src="../img/icons/Create.png" id="btnCreate" /></a>
                                            <!--</div>-->
                                        </div>
                                        <div class="col-lg-3 padding7">
                                            <input id="txtSearchAddress" class="form-control" placeholder="Search" type="text">
                                        </div>
                                    </header>
                                    <div class="table-responsive">
                                        <table id="tblCompany" class="table table-striped table-hover">
                                            <thead>
                                                <tr>
                                                    <th>No.</th>
                                                    <th>Branch</th>
                                                    <th>Addresss</th>
                                                    <th>Tel No.</th>
                                                    <th>Mobile No.</th>
                                                    <th>Address Type</th>
                                                    <th>Primary</th>
                                                    <th><i class="icon_cogs"></i> Action</th>
                                                </tr>
                                            </thead>
                                            <tbody id="resultAddress">
                                            </tbody>
                                        </table>
                                    </div>

                                </section>
                            </div>
                        </div>
                    </div>
                    <div id="menu1" class="tab-pane fade">
                        <div class="row">
                            <div class="col-lg-12">
                                <section class="panel">
                                    <!--<div class="col-lg-6"></div>-->
                                    <header class="panel-heading">
                                        <div class="col-lg-8">Contact Person</div>
                                        <div class="col-lg-1">
                                            <!--<div class="row m-bot15">-->
                                            <a href="#ModalContact" data-toggle="modal" class="btn btn-default btn-sm plusicon" onclick="GetDataContactPerson(0)"><img src="../img/icons/Create.png" id="list" /></a>
                                            <!--</div>-->
                                        </div>
                                        <div class="col-lg-3 padding7">
                                            <input id="txtSearchContact" class="form-control" placeholder="Search" type="text">
                                        </div>
                                    </header>
                                    <div class="table-responsive">
                                        <table id="tblContact" class="table table-striped table-hover">
                                            <thead>
                                                <tr>
                                                    <th>No.</th>
                                                    <th>Full Name</th>
                                                    <th>Mobile No.</th>
                                                    <th>Email Address</th>
                                                    <th>E-mail Letters</th>
                                                    <th>Address</th>
                                                    <th><i class="icon_cogs"></i> Action</th>
                                                </tr>
                                            </thead>
                                            <tbody id="resultContact">
                                                @*<tr>
                                                        <td>1</td>
                                                        <td>คุณ xxx xxxxx</td>
                                                        <td>09x-xxx-xxxx</td>
                                                        <td>xxx@gmail.com</td>
                                                        <td>Y</td>
                                                        <td>
                                                            <div class="btn-group">
                                                                <a class="btn btn-success" href="#ModalContact" data-toggle="modal"><i class="icon_pencil-edit_alt"></i></a>
                                                                <a class="btn btn-danger" href="#ConfirmDelete" data-toggle="modal"><i class="icon_close_alt2"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>*@
                                            </tbody>
                                        </table>
                                    </div>

                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        @*================================================ Modal Address*@
        <input type="hidden" id="hidCompID" />
        <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade">
            <div class="modal-dialog popup80">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                        <h4 class="modal-title">Address</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label margintop15">Tax Id</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtTaxID" class="form-control m-bot15 margintop15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label margintop15">Addresss</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtAddress" class="form-control m-bot15 margintop15" type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Branch</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtBranch" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Province</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <select id="cmbProvince" class="form-control m-bot15" onchange="GetAmphurByProvince()"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Amphur</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <select id="cmbAmphur" class="form-control m-bot15" onchange="GetDistrictByAmphur()"></select>
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Tambon</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <select id="cmbTambon" class="form-control m-bot15"></select>
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Post Code</label>
                                    <div class="col-xs-12 col-sm-5">
                                        <input id="txtPostCode" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-2 col-sm-3 control-label">Tel No.</label>
                                    <div class="col-xs-6 col-sm-7">
                                        <input id="txtTelNo" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Mobile No.</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtMobileNo" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-1 col-sm-3 control-label">Ext.</label>
                                    <div class="col-xs-3 col-sm-7">
                                        <input id="txtTelExt" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Fax No.</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtFaxNo" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label">Address Type</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <select id="cmbAddressType" class="form-control m-bot15"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-3 control-label"></label>
                                    <div class="col-xs-12 col-sm-7">
                                        <label class="checkbox-inline"><input id="chkPrimary" type="checkbox" value="">Primary</label>
                                        @*<label class="checkbox-inline"><input type="checkbox" value="">Primary Ship to</label>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="hidAddressID" />
                        <button type="submit" id="btnAddressSave" class="btn btn-primary" onclick="SaveAddress(@Request.Params["id"])">Save</button>
                    </div>
                </div>
            </div>
        </div>

        @*================================================ Modal Contact*@
        <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalContact" class="modal fade">
            <div class="modal-dialog popup80">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                        <h4 class="modal-title">Contact Person</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label margintop15">Salutation</label>
                                    <div class="col-xs-12 col-sm-3">
                                        <select id="cmbSalutation" class="form-control m-bot15 margintop15"></select>
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label margintop15">First name (TH)<span class="required">*</span></label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtFirstNameTH" class="form-control m-bot15 margintop15" type="text">
                                    </div>

                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">First name (EN)</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtFirstNameEN" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">Last name (TH)<span class="required">*</span></label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtLastNameTH" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">Last name (EN)</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtLastNameEN" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">Mobile No.</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtContactMobile" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">Email Address</label>
                                    <div class="col-xs-12 col-sm-7">
                                        <input id="txtContactEmail" class="form-control m-bot15" type="text">
                                    </div>
                                </div>
                            </div>
                            <!--<div class="clearfix visible-xs-block"></div>-->
                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group">
                                    <label class="col-xs-12 col-sm-4 control-label">E-mail Letters</label>
                                    <div class="col-xs-12 col-sm-3">
                                        <select id="cmbEmailLetter" class="form-control m-bot15"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="hidContactID" />
                        <button type="submit" id="btnContactSave" class="btn btn-primary" onclick="SaveContact(@Request.Params["id"])">Save</button>
                    </div>
                </div>
            </div>
        </div>

        @*================================================ Modal Contact Address*@
        <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalContactAddress" class="modal fade">
            <div class="modal-dialog popup80">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                        <h4 class="modal-title">Contact Address</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            
                            <div class="table-responsive">
                                <table id="tblContactAddress" class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>No.</th>
                                            <th>Address</th>
                                            <th>Province</th>
                                            <th>Amphur</th>
                                            <th>Tambon</th>
                                            <th>Post Code</th>
                                            <th><i class="icon_cogs"></i> Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="resultContact">
                                        <tr class="RowCal">
                                            <td>
                                                <img class="drag-handle fa fa fa-sort" src="" alt="" />
                                            </td>
                                            <td><input id="txtNo" class="form-control width50" type="text" disabled></td>
                                            <td><input id="txtContAddress" class="form-control width150" type="text"></td>
                                            <td><select id="cmbContProvince" class="cmbContProvince form-control" onchange="GetContactAmphurByProvince()"></select></td>
                                            <td><select id="cmbContAmphur" class="cmbContAmphur form-control" onchange="GetContactDistrictByAmphur()"></select></td>
                                            <td><select id="cmbContTambon" class="cmbContTambon form-control"></select></td>
                                            <td><input id="txtContPostCode" class="form-control width130" type="text"></td>
                                            <td>
                                                <div class="btn-group">
                                                    <img class="cloneRowSaleOrder row-cloner fa fa-plus-circle btn btn-success" src="" alt="" />
                                                    <img class="row-remover btn btn-danger icon_close_alt2" src="" alt="" />
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="RowCal" id="add-template2">
                                            <td>
                                                <img class="drag-handle fa fa fa-sort" src="" alt="" />
                                            </td>
                                            <td><input id="txtNo" class="form-control width50" type="text" disabled></td>
                                            <td><input id="txtContAddress" class="form-control width150" type="text"></td>
                                            <td><select id="cmbContProvince" class="cmbContProvince form-control" onchange="GetContactAmphurByProvince()"></select></td>
                                            <td><select id="cmbContAmphur" class="cmbContAmphur form-control" onchange="GetContactDistrictByAmphur()"></select></td>
                                            <td><select id="cmbContTambon" class="cmbContTambon form-control"></select></td>
                                            <td><input id="txtContPostCode" class="form-control width130" type="text"></td>
                                            <td>
                                                <div class="btn-group">
                                                    <img class="cloneContactAddress row-cloner fa fa-plus-circle btn btn-success" src="" alt="" />
                                                    <img class="row-remover btn btn-danger icon_close_alt2" src="" alt="" />
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                        @*<input type="hidden" id="hidContactID" />*@
                        <a id="add-row2" href="#" onclick="AddRowContactAddress()" class="btn btn-default fa fa-plus-circle"> Add Row</a>
                        <button type="submit" id="btnContactSave" class="btn btn-primary" onclick="SaveContactAddress(@Request.Params["id"])">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {
        //var input = window.location.href;
        //var after = input.split('?')[1]
        //var val = after.split('=');
        //var Isview = val[2];
        //GetCurrency();
        GetData(@Request.Params["id"]);
        //ControlEnable(Isview);
    });

</script>
